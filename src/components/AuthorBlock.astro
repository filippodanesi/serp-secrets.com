---
import type { UnifiedPost } from '../utils/content-utils';

type Props = {
    post: UnifiedPost;
    display: 'byline' | 'full';
}

const { post, display } = Astro.props;
const { author, authorImage, authorBio, authorTwitter } = post.data;

if (!author) {
    return null;
}
---

{display === 'byline' && (
    <div class="flex items-center gap-3">
        {authorImage && (
            <img src={authorImage} alt={author} class="w-8 h-8 rounded-full" />
        )}
        <div class="text-sm">
            <p class="font-medium text-main">{author}</p>
        </div>
    </div>
)}

{display === 'full' && (
    <section class="mt-12 pt-8 border-t border-main flex items-start gap-6">
        {authorImage && (
            <img src={authorImage} alt={author} class="w-20 h-20 rounded-full" />
        )}
        <div class="flex-1">
            <h2 class="text-lg font-semibold text-main">About the Author: {author}</h2>
            {authorBio && (
                <p class="mt-2 text-sm text-muted leading-relaxed">{authorBio}</p>
            )}
            {authorTwitter && (
                 <a href={authorTwitter} target="_blank" rel="noopener noreferrer" class="mt-3 inline-block text-sm text-accent hover:underline">
                    Follow on Twitter
                </a>
            )}
        </div>
    </section>
)}
